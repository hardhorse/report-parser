{"version":3,"sources":["components/FileData/Table.js","constant.js","components/FileData/Fields.js","components/FileData/index.js","helpers.js","components/ResultData.js","pages/MainPage.jsx","components/ConcatFilesData.js","pages/ConcatFiles.jsx","components/Table.js","pages/Prices/constants.js","pages/Prices/helpers.js","pages/Prices/index.js","superUser.js","App.js","serviceWorker.js","index.js"],"names":["getItemColor","fields","fileData","rowIndex","columnIndex","selectedFields","Object","keys","i","length","item","itemData","row","column","Table","data","onFieldSelect","map","className","key","onClick","isArray","FIELDS_MAPPING","firstRow","lastRow","productData","productDescription","sales","rest","customer","Fields","fileIndex","onChange","field","index","type","name","FileData","optionalFields","useState","collapsed","setCollapsed","activeField","setActiveField","handleFieldChange","downloadXLSX","title","prefix","date","Date","filename","getDay","getMonth","getFullYear","getHours","getMinutes","ws_name","wb","XLSX","utils","book_new","ws","aoa_to_sheet","reduce","acc","table","book_append_sheet","writeFile","ResultData","files","skus","fileNames","header","subheader","forEach","fileName","push","result","skuName","skuIndex","filesData","skuResult","FIELDS","SKU_REGEXP","MainPage","setFiles","setFileData","resultData","setResultData","handleFieldSelect","newFileData","e","filesToProceed","target","promises","file","readXlsxFile","Promise","all","then","console","log","multiple","slice","elementName","elementSales","Number","elementRest","elementSku","match","OPTIONAL_FIELDS","needToSumData","setNeedToSumData","ConcatFilesData","customerResult","salesResult","restResult","elementCustomer","currentRest","currentSales","sku","checked","useStyles","makeStyles","root","marginTop","minWidth","tableCell","whiteSpace","DenseTable","classes","head","products","TableContainer","component","Paper","size","TableHead","TableRow","TableCell","TableBody","cell","cellIndex","scope","NAMES_MAPPING","KEY_TYPE","PARAMETERS_LIST_TABLET","PARAMETERS_MAPPING_TABLET","PARAMETERS_LIST_LAPTOP","PARAMETERS_MAPPING_LAPTOP","SHOPS","getApiUrl","trim","toLowerCase","getDetailsUrl","isTablet","value","getParametersList","getShop","shops","id","find","shop_id","getShops","sort","a","b","position_price","amount","getLowestPrice","getProductData","excludeFields","includes","parameters","obj","arr","filter","param","join","getObjectProperty","name_prefix","full_name","getProductPrice","currency","createTable","product","undefined","alert","marginBottom","sleep","ms","resolve","setTimeout","CircularProgressWithLabel","props","Box","position","display","CircularProgress","variant","top","left","bottom","right","alignItems","justifyContent","Typography","color","Math","round","fetchData","numbers","urlFuncion","setProgress","setAlert","cb","options","method","url","json","rp","body","prevProgress","Prices","setNumbers","isReady","setIsReady","inProgress","setInProgress","React","progress","alerts","setAlerts","useRef","productItems","msg","prevAlerts","splittedNumbers","split","Boolean","handleGetResults","positions","availableShops","primary","current","shop","notebooks","tablets","Container","maxWidth","TextField","label","multiline","fullWidth","rows","cols","ButtonGroup","Button","Alert","severity","isSuperUser","localStorage","getItem","enableSuperUser","setItem","window","location","reload","disableSuperUser","App","CssBaseline","NavLink","to","path","exact","ConcatFiles","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a860a240.chunk.js","sourcesContent":["import React from 'react';\nimport './Table.css';\nimport { isArray } from 'util';\n\nconst getItemColor = ({ fields, fileData, rowIndex, columnIndex }) => {\n    const selectedFields = Object.keys(fileData);\n\n    for(let i = 0; i < selectedFields.length; i++) {\n        const item = selectedFields[i];\n        const itemData = fileData[item];\n        if ((item === 'firstRow' || item === 'lastRow') && itemData.row === rowIndex) {\n            return 'active-row'\n        }\n        if ((item === 'rest' || item === 'sales' || item === 'productData' || item === 'productDescription' || item === 'customer') && itemData.column === columnIndex) {\n            return 'active-column'\n        }\n    }\n\n}\n\nconst Table = ({ data, onFieldSelect, fields, fileData = {} }) =>\n  data.map((row, rowIndex) => (\n    <div\n      className={`table-row ${getItemColor({ fileData, rowIndex })}`}\n      key={`row_${rowIndex}`}\n    >\n      {row.map((column, columnIndex) => (\n        <div\n          className={`table-cell ${getItemColor({ fileData, columnIndex })}`}\n          onClick={() => onFieldSelect(rowIndex, columnIndex)}\n          key={`${rowIndex}_${columnIndex}`}\n        >\n          {(typeof column === \"number\" ||typeof column === \"string\" || isArray(column)) && column}\n        </div>\n      ))}\n    </div>\n  ));\n\nexport default Table;","export const FIELDS_MAPPING = {\n    firstRow: 'Первый ряд',\n    lastRow: 'Последний ряд',\n    productData: 'Поле с артиклом',\n    productDescription: 'Описание товара',\n    sales: 'Продажи',\n    rest: 'Остаток',\n    customer: 'Покупатель'\n}","import React from 'react';\nimport { FIELDS_MAPPING } from '../../constant';\n\nconst Fields = ({ fileIndex, fields, onChange }) =>\nfields.map((field, index) => (\n    <label className=\"concat-field\" key={index}>\n        <input type=\"radio\" name={`file${fileIndex}`} onChange={() => onChange(field)} />\n        {FIELDS_MAPPING[field]}\n    </label>\n  ));\n\nexport default Fields;","import React, {useState} from 'react';\nimport Table from './Table';\nimport Fields from './Fields';\n\nconst FileData = ({ name, data, fileIndex, optionalFields = [], fields = [], onFieldSelect = () => {}, fileData = {} }) => {\n  const [collapsed, setCollapsed] = useState(true);\n  const [activeField, setActiveField] = useState('');\n\n  function handleCollapse() {\n    setCollapsed(!collapsed);\n  }\n  function handleFieldChange(field) {\n    setActiveField(field)\n  }\n\n  return (\n    <div>\n      <h1 className={!collapsed ? 'active' : ''} onClick={handleCollapse}>{name}</h1>\n      {!collapsed && <Fields fileIndex={fileIndex} fields={fields} onChange={handleFieldChange} /> }\n      {!collapsed && optionalFields.length > 0 && <Fields fileIndex={fileIndex} fields={optionalFields} onChange={handleFieldChange} /> }\n      {!collapsed && <Table fileData={fileData[name]} fields={fields} onFieldSelect={onFieldSelect(name, activeField)} data={data} />}\n    </div>\n  );\n};\n\nexport default FileData","import XLSX from 'xlsx';\n\nexport const downloadXLSX =  (data, title = \"Сводка отчетов\", prefix = \"report\") => {\n    const date = new Date();\n    const filename = `${prefix}_${date.getDay()}-${date.getMonth()}-${date.getFullYear()}__${date.getHours()}-${date.getMinutes()}.xlsx`;\n    const ws_name = title;\n    const wb = XLSX.utils.book_new(), ws = XLSX.utils.aoa_to_sheet(data.reduce((acc, table) => ([...acc, ...table]), []));\n\n    XLSX.utils.book_append_sheet(wb, ws, ws_name);\n    XLSX.writeFile(wb, filename);\n}","import React from \"react\";\nimport \"./ResultData.css\";\nimport { downloadXLSX } from \"../helpers\";\n\nconst ResultData = ({ data, files }) => {\n  const skus = Object.keys(data);\n  const fileNames = files.map(item => item.name);\n\n  const header = [\"Название\", \"Артикул\"];\n  const subheader = [null, null];\n\n  fileNames.forEach((fileName, index) => {\n    header.push(fileName);\n    header.push(null);\n    subheader.push(\"Продажи\");\n    subheader.push(\"Остаток\");\n  });\n\n  const result = [header, subheader];\n\n  skus.forEach((skuName, skuIndex) => {\n    const { name, ...filesData } = data[skuName];\n    const skuResult = [name, skuName];\n\n    fileNames.forEach((fileName, index) => {\n      skuResult.push(filesData[fileName] ? filesData[fileName].sales : null);\n      skuResult.push(filesData[fileName] ? filesData[fileName].rest : null);\n    });\n\n    result.push(skuResult);\n  });\n\n  const download = () => downloadXLSX([result]);\n\n  return (\n    <div>\n      <button onClick={download}>Скачать XLX</button>\n      <div className=\"sku-row\">\n        <div className=\"sku-cell sku-cell--name\">Название</div>\n        <div className=\"sku-cell sku-cell--name\">Артикул</div>\n        {fileNames.map((fileName, index) => (\n          <div className=\"sku-cell sku-cell--header\" key={index}>\n            {\" \"}\n            {fileName}{\" \"}\n          </div>\n        ))}\n      </div>\n\n      <div className=\"sku-row\">\n        <div className=\"sku-cell sku-cell--name\"></div>\n        <div className=\"sku-cell sku-cell--name\"></div>\n        {fileNames.map((fileName, index) => (\n          <>\n            <div className=\"sku-cell sku-cell--value\" key={`sales_${index}`}>\n              {\" \"}\n              Продажи{\" \"}\n            </div>\n            <div className=\"sku-cell sku-cell--value\" key={`rest_${index}`}>\n              {\" \"}\n              Остаток{\" \"}\n            </div>\n          </>\n        ))}\n      </div>\n      {skus.map((skuName, skuIndex) => {\n        const { name, ...filesData } = data[skuName];\n\n        return (\n          <div className=\"sku-row\" key={skuIndex}>\n            <div className=\"sku-cell sku-cell--name\">{name}</div>\n            <div className=\"sku-cell sku-cell--name\">{skuName}</div>\n            {fileNames.map((fileName, index) => (\n              <>\n                <div\n                  className=\"sku-cell sku-cell--value\"\n                  key={`sales_${index}`}\n                >\n                  {\" \"}\n                  {filesData[fileName] && filesData[fileName].sales}{\" \"}\n                </div>\n                <div className=\"sku-cell sku-cell--value\" key={`rest_${index}`}>\n                  {\" \"}\n                  {filesData[fileName] && filesData[fileName].rest}{\" \"}\n                </div>\n              </>\n            ))}\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default ResultData;\n","import React, {useState} from 'react';\nimport readXlsxFile from 'read-excel-file';\nimport FileData from '../components/FileData';\nimport ResultData from '../components/ResultData';\n\nconst FIELDS = ['firstRow', 'lastRow', 'productData', 'productDescription', 'sales', 'rest']\nconst SKU_REGEXP = /([0-9A-Z]{10})/gim;\n\nconst MainPage = () => {\n  const [files, setFiles] = useState([]);\n  const [fileData, setFileData] = useState({});\n  const [resultData, setResultData] = useState(null);\n\n  function onFileChange (e) {\n    setFiles([]);\n    setFileData({});\n    setResultData(null);\n\n    const filesToProceed = e.target.files;\n    const promises = [...filesToProceed].map(file => readXlsxFile(file))\n\n    Promise.all(promises).then(files => console.log(files) || setFiles(files.map((data, i) => ({ data, name: filesToProceed[i].name }) )));\n  }\n\n  const handleFieldSelect = (name, activeField) => (row, column) => {\n    if(!activeField) { return }\n    const newFileData = {\n      ...fileData,\n      [name]: {\n        ...fileData[name],\n        [activeField]: {\n          row,\n          column\n        }\n      }\n    }\n    setFileData(newFileData)\n  }\n\n  function handleResultCalculate () {\n    const resultData = {}\n    // fileData, files\n\n    files.forEach(({ name: fileName, data }) => {\n      const {firstRow, lastRow, sales, productData, productDescription, rest} = fileData[fileName]\n      const slicedRows = data.slice(firstRow.row, lastRow.row);\n      // go per rows\n      slicedRows.forEach(row => {\n        const elementName = row[(productDescription || productData).column];\n        const elementSales = Number(row[sales.column]);\n        const elementRest = Number(row[rest.column]);\n        const elementSku = row[productData.column].match(SKU_REGEXP);\n\n        resultData[elementSku] = {\n          ...resultData[elementSku],\n          name: resultData[elementSku] && resultData[elementSku].name ? resultData[elementSku].name : elementName,\n          [fileName]: {\n            sales: elementSales,\n            rest: elementRest\n          }\n        }\n      })\n    })\n\n    setResultData(resultData)\n  }\n\n  return (\n    <>\n      <input type=\"file\" onChange={onFileChange} multiple/>\n      {\n        !resultData ?\n          <>\n            <button onClick={handleResultCalculate}>Получить отчет</button>\n            {\n              files.map((file, index) => <FileData fileData={fileData} onFieldSelect={handleFieldSelect} fields={FIELDS} {...file} key={index} />)\n            }\n          </> : \n          <ResultData files={files} data={resultData} />\n      }\n      \n    </>\n  );\n}\n\nexport default MainPage;\n","import React from 'react';\nimport './ResultData.css';\nimport { downloadXLSX } from '../helpers';\n\nconst ResultData = ({ data, files }) => {\n    const skus = Object.keys(data);\n\n    const header = ['Название', 'Артикул', 'Продажи', 'Остаток', 'Заказчик'];\n\n    const result = [header]\n\n    skus.forEach((skuName, skuIndex) => {\n        const { name, sales = null, rest = null, customer } = data[skuName];\n        const skuResult = [name, skuName, sales, rest, customer];\n\n        result.push(skuResult)\n    })\n\n    const download = () => downloadXLSX([result], 'Склеенные отчеты', 'concated')\n\n    return (\n      <div>\n        <button onClick={download}>Скачать XLX</button>\n        <div className=\"sku-row\">\n            <div className=\"sku-cell sku-cell--name\" >Название</div>\n            <div className=\"sku-cell sku-cell--name\" >Артикул</div>\n            <div className=\"sku-cell sku-cell--name\">Продажи</div>\n            <div className=\"sku-cell sku-cell--name\">Остатки</div>\n            <div className=\"sku-cell sku-cell--name\">Заказчик</div>\n            \n        </div> \n        {skus.map((skuName, skuIndex) => {\n          const { name, sales, rest, customer } = data[skuName];\n\n          return (\n            <div className=\"sku-row\" key={skuIndex}>\n              <div className=\"sku-cell sku-cell--name\">{name}</div>\n              <div className=\"sku-cell sku-cell--name\">{skuName}</div>\n              <div className=\"sku-cell sku-cell--name\">{sales}</div>\n              <div className=\"sku-cell sku-cell--name\">{rest}</div>\n              <div className=\"sku-cell sku-cell--name\">{customer}</div>\n              \n            </div>\n          );\n        })}\n      </div>\n    );\n}\n\nexport default ResultData","import React, {useState} from 'react';\nimport readXlsxFile from 'read-excel-file';\nimport FileData from '../components/FileData';\nimport ConcatFilesData from '../components/ConcatFilesData';\n\nconst FIELDS = ['firstRow', 'lastRow', 'productData'];\nconst OPTIONAL_FIELDS = ['customer', 'sales', 'rest', 'productDescription'];\nconst SKU_REGEXP = /([0-9A-Z]{10})/gim;\n\nconst MainPage = () => {\n  const [files, setFiles] = useState([]);\n  const [fileData, setFileData] = useState({});\n  const [resultData, setResultData] = useState(null);\n  const [needToSumData, setNeedToSumData] = useState(false);\n\n  function onFileChange (e) {\n    setFiles([]);\n    setFileData({});\n    setResultData(null);\n\n    const filesToProceed = e.target.files;\n    const promises = [...filesToProceed].map(file => readXlsxFile(file))\n\n    Promise.all(promises).then(files => setFiles(files.map((data, i) => ({ data, name: filesToProceed[i].name }) )));\n  }\n\n  const handleFieldSelect = (name, activeField) => (row, column) => {\n    if(!activeField) { return }\n    const newFileData = {\n      ...fileData,\n      [name]: {\n        ...fileData[name],\n        [activeField]: {\n          row,\n          column\n        }\n      }\n    }\n    setFileData(newFileData);\n  }\n\n  function handleResultCalculate () {\n    const resultData = {};\n  \n    files.forEach(({ name: fileName, data }) => {\n      const {firstRow, lastRow, sales, productData, rest, productDescription, customer} = fileData[fileName];\n\n      const slicedRows = data.slice(firstRow.row, lastRow.row);\n      // go per rows\n      slicedRows.forEach(row => {\n        const elementName = row[productDescription.column];\n        const elementSku = (row[productData.column] || elementName).match(SKU_REGEXP);\n        const {\n          [elementSku] : {\n            customer: customerResult = '',\n            sales: salesResult = 0,\n            rest: restResult = 0,\n          } = {}\n        } = resultData;\n  \n        const elementCustomer = customerResult || (customer && row[customer.column]);\n        const currentRest = rest ? Number(row[rest.column]) : 0;\n        const currentSales = sales ? Number(row[sales.column]) : 0;\n        const elementRest = !needToSumData ? (restResult || currentRest) : (restResult + currentRest);\n        const elementSales = !needToSumData ? (salesResult || currentSales) : (salesResult + currentSales);\n\n        resultData[elementSku] = {\n          ...resultData[elementSku],\n          name: elementName || elementSku,\n          sku: elementSku,\n          sales: elementSales,\n          rest: elementRest,\n          customer: elementCustomer\n        }\n      })\n    })\n    setResultData(resultData)\n  }\n\n  function handleCheckboxChange (e) {\n    const { target: { checked } } = e;\n\n    setNeedToSumData(checked);\n  }\n\n  return (\n    <>\n      <input type=\"file\" onChange={onFileChange} multiple/>\n      {\n        !resultData ?\n          <>\n            <button onClick={handleResultCalculate}>Срастить отчеты</button>\n            <label>\n              <input type=\"checkbox\" checked={needToSumData} onChange={handleCheckboxChange}/>\n              Складывать значения\n            </label>\n            {\n              files.map((file, index) =>\n                <FileData\n                    fileData={fileData}\n                    onFieldSelect={handleFieldSelect}\n                    optionalFields={OPTIONAL_FIELDS}\n                    fields={FIELDS}\n                    {...file}\n                    key={index}\n                />)\n            }\n          </> : \n          <ConcatFilesData files={files} data={resultData} />\n      }\n      \n    </>\n  );\n}\n\nexport default MainPage;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\n\nconst useStyles = makeStyles({\n  root: {\n    marginTop: 20\n  },\n  table: {\n    minWidth: 650,\n  },\n  tableCell: {\n      whiteSpace: 'nowrap'\n  }\n});\n\n\nexport default function DenseTable({ data }) {\n  const classes = useStyles();\n\n  const [head, ...products] = data;\n\n  return (\n    <TableContainer component={Paper} className={classes.root}>\n      <Table className={classes.table} size=\"medium\">\n        <TableHead>\n          <TableRow>\n              {\n                head.map((row, index) => <TableCell className={classes.tableCell} key={index}>{row}</TableCell>)\n              }\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {products.map((row, index) => (\n            <TableRow key={index}>\n                {\n                    row.map((cell, cellIndex) =>\n                        <TableCell className={classes.tableCell} key={cellIndex} component=\"th\" scope=\"row\">\n                            {cell}\n                        </TableCell>\n                    )\n                }\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n}\n","\nexport const ID_21VEK = 965;\nexport const ID_SILA = 12735;\nexport const ID_5ELEMENT = 3467;\nexport const ID_AMD = 1689;\nexport const ID_IMARKET = 581;\nexport const ID_LOWEST = -1;\n\nexport const NAMES_MAPPING = {\n  [ID_LOWEST]: \"Самая ниизкая цена на Onliner\",\n  [ID_21VEK]: \"21 век\",\n  [ID_SILA]: \"Электросила\",\n  [ID_5ELEMENT]: \"5 элемент\",\n  [ID_AMD]: \"AMD.BY\",\n  [ID_IMARKET]: \"IMARKET\"\n};\n\nexport const LAPTOP_TYPE = 'Ноутбук';\nexport const TABLET_TYPE = 'Планшет';\n\n\n\nexport const KEY_SKU = 'key';\nexport const KEY_SERIES = 'notebook_series';\nexport const KEY_PROC_MODEL = 'cpunb_model';\nexport const KEY_BUILT_IN_GRAPH = 'cpu_builtingraph';\nexport const KEY_DIAGON = 'diagonalnb';\nexport const KEY_RESOLUTION = 'display_resnb';\nexport const KEY_DISP_TECH = 'display_technb';\nexport const KEY_RAM_SIZE = 'ram_sizenb';\nexport const KEY_HDD_CONF = 'nb_hddconfig';\nexport const KEY_HDD_TYPE = 'hdd_type';\nexport const KEY_HDD_CAPACITY = 'nb_storcapacity';\nexport const KEY_GPU_DISCR = 'gpu_discr';\nexport const KEY_GPU_ADAPTER = 'gpunb_video';\nexport const KEY_KEY_LIT = 'keyboard_lit';\nexport const KEY_KEY_OS = 'osnb';\nexport const KEY_TYPE = 'name_prefix';\nexport const KEY_NAME = 'name';\n\nexport const KEY_TAB_DIAGONAL = 'tab_diagonal';\nexport const KEY_TAB_RESOLUTION = 'tab_resolution';\nexport const KEY_TAB_SCREENTECH = 'tab_screentech';\nexport const KEY_TAB_OS = 'tab_os';\nexport const KEY_TAB_CPU = 'tab_cpu';\nexport const KEY_TAB_RAM = 'tab_ram';\nexport const KEY_TAB_FALSH = 'tab_flash';\nexport const KEY_TAB_MOBILEPHONE = 'tab_mobilephone';\nexport const KEY_TAB_CORENB = 'cpu_corenb';\nexport const KEY_TAB_FREQNB = 'cpu_freqnb';\nexport const KEY_TAB_CASE_TYPE = 'case_type';\nexport const KEY_TAB_WEIGHT = 'weight';\nexport const KEY_TAB_CAMNB = 'camnb';\nexport const KEY_TAB_CAM_MPXNB = 'cam_mpxnb';\nexport const KEY_TAB_CAM2_MPX = 'cam2_mpx';\nexport const KEY_TAB_PRINSCANNER = 'printcsaner';\nexport const KEY_TAB_NFC = 'nfc';\nexport const KEY_TAB_BT = 'bluetoothnb';\nexport const KEY_TAB_MOB_MODEM = 'mobmodemnb';\nexport const KEY_TAB_ACC_CAP = 'acc_capacity';\nexport const KEY_TAB_STILUS = 'tc_stilus';\n\n// tablet\nexport const PARAMETERS_LIST_TABLET = [\n  KEY_SKU,\n  KEY_TYPE,\n  KEY_NAME,\n  KEY_TAB_DIAGONAL,\n  KEY_TAB_RESOLUTION,\n  KEY_TAB_SCREENTECH,\n  KEY_TAB_OS,\n  KEY_TAB_CPU,\n  KEY_TAB_RAM,\n  KEY_TAB_FALSH,\n  KEY_TAB_MOBILEPHONE,\n  KEY_TAB_CORENB,\n  KEY_TAB_FREQNB,\n  KEY_TAB_CASE_TYPE,\n  KEY_TAB_WEIGHT,\n  KEY_TAB_CAMNB,\n  KEY_TAB_CAM_MPXNB,\n  KEY_TAB_CAM2_MPX,\n  KEY_TAB_PRINSCANNER,\n  KEY_TAB_NFC,\n  KEY_TAB_BT,\n  KEY_TAB_MOB_MODEM,\n  KEY_TAB_ACC_CAP,\n  KEY_TAB_STILUS,\n];\n\nexport const PARAMETERS_MAPPING_TABLET = {\n  [KEY_SKU]: 'Артикул',\n  [KEY_TYPE]: 'Тип',\n  [KEY_NAME]: 'Наименование',\n  [KEY_TAB_DIAGONAL]: \"Диагональ\",\n  [KEY_TAB_RESOLUTION]: \"Разрешение\",\n  [KEY_TAB_SCREENTECH]: \"Матрица\",\n  [KEY_TAB_OS]: \"OS\",\n  [KEY_TAB_CPU]: \"CPU\",\n  [KEY_TAB_RAM]: \"RAM\",\n  [KEY_TAB_FALSH]: \"Внутренняя память\",\n  [KEY_TAB_MOBILEPHONE]: \"Голосовые вызовы\",\n  [KEY_TAB_CORENB]: \"Кол-во ядер\",\n  [KEY_TAB_FREQNB]: \"Частота\",\n  [KEY_TAB_CASE_TYPE]: \"Тип корпуса\",\n  [KEY_TAB_WEIGHT]: \"Вес\",\n  [KEY_TAB_CAMNB]: \"Камера\",\n  [KEY_TAB_CAM_MPXNB]: \"Основная камера MPx\",\n  [KEY_TAB_CAM2_MPX]: \"Фронтальная камера MPx\",\n  [KEY_TAB_PRINSCANNER]: \"Сканер отпечатков пальцев\",\n  [KEY_TAB_NFC]: \"NFC\",\n  [KEY_TAB_BT]: \"BT\",\n  [KEY_TAB_MOB_MODEM]: \"Сотовая связь\",\n  [KEY_TAB_ACC_CAP]: \"Аккумулятор\",\n  [KEY_TAB_STILUS]: \"Стилус\",\n};\n// laptop\nexport const PARAMETERS_LIST_LAPTOP = [\n  KEY_SKU,\n  KEY_TYPE,\n  KEY_NAME,\n  KEY_SERIES,\n  KEY_PROC_MODEL,\n  KEY_BUILT_IN_GRAPH,\n  KEY_DIAGON,\n  KEY_RESOLUTION,\n  KEY_DISP_TECH,\n  KEY_RAM_SIZE,\n  KEY_HDD_CONF,\n  KEY_HDD_TYPE,\n  KEY_HDD_CAPACITY,\n  KEY_GPU_DISCR,\n  KEY_GPU_ADAPTER,\n  KEY_KEY_LIT,\n  KEY_KEY_OS];\n\nexport const PARAMETERS_MAPPING_LAPTOP = {\n  [KEY_SKU]: 'Артикул',\n  [KEY_TYPE]: 'Тип',\n  [KEY_NAME]: 'Наименование',\n  [KEY_SERIES]: 'Продуктовая линейка',\n  [KEY_PROC_MODEL]: 'Модель процессора',\n  [KEY_BUILT_IN_GRAPH]: 'Встроенная графика',\n  [KEY_DIAGON]: 'Диагональ экрана',\n  [KEY_RESOLUTION]: 'Разрешение экрана',\n  [KEY_DISP_TECH]: 'Технология экрана',\n  [KEY_RAM_SIZE]: 'Объём памяти',\n  [KEY_HDD_CONF]: 'Конфигурация накопителя',\n  [KEY_HDD_TYPE]: 'Тип накопителя',\n  [KEY_HDD_CAPACITY]: 'Ёмкость накопителя',\n  [KEY_GPU_DISCR]: 'Дискретная графика',\n  [KEY_GPU_ADAPTER]: 'Графический адаптер',\n  [KEY_KEY_LIT]: 'Подсветка клавиатуры',\n  [KEY_KEY_OS]: 'OS',\n};\n  \nexport const SHOPS = [ID_LOWEST, ID_21VEK, ID_SILA, ID_5ELEMENT, ID_AMD, ID_IMARKET];","import {\n    KEY_TYPE,\n    TABLET_TYPE,\n    PARAMETERS_MAPPING_TABLET,\n    PARAMETERS_MAPPING_LAPTOP,\n    PARAMETERS_LIST_TABLET,\n    PARAMETERS_LIST_LAPTOP,\n    SHOPS,\n    ID_LOWEST,\n    ID_21VEK,\n    ID_SILA,\n    ID_5ELEMENT,\n    ID_AMD,\n    ID_IMARKET,\n    KEY_NAME,\n    KEY_SKU,\n    NAMES_MAPPING\n} from './constants';\n\nexport const getObjectProperty = (data, excludeFields = []) => key => {\n    if (excludeFields.includes(key)) return;\n    const value = data.parameters\n      .map(obj => obj.parameters)\n      .reduce((acc, arr) => [...acc, ...arr], [])\n      .filter(param => param.id === key);\n  \n    return ({ [key]: value.length ? { value: value[0].value.reduce((acc, item) => [acc, item.value].join(' '), '') } : { value: null } })\n  }\n  \n  export const getApiUrl = item =>\n    `https://catalog.onliner.by/sdapi/shop.api/products/${item.trim().toLowerCase()}/positions?town=minsk&v=0.08389959292567406`;\n  \n  export const getDetailsUrl = item => `https://catalog.api.onliner.by/products/${item.trim().toLowerCase()}?include=parameters`;\n  \n  \n  export const isTablet = ({ [KEY_TYPE]: type }) => (type.value || type) === TABLET_TYPE;\n  \n  export const getMappingList = (isTablet) => isTablet ? PARAMETERS_MAPPING_TABLET : PARAMETERS_MAPPING_LAPTOP;\n  export const getParametersList = (isTablet) => isTablet ? PARAMETERS_LIST_TABLET : PARAMETERS_LIST_LAPTOP;\n  \n  export const getShop = (shops, id) => {\n      const shop = shops.find(item => item.shop_id === id)\n  \n      return shop || null;\n  }\n  \n  export const getLowestPrice = (shops) => {\n      return shops.sort((a, b) => a.position_price.amount - b.position_price.amount)[0] || null\n  }\n  \n  export const getShops = shops => ({\n      [ID_LOWEST]: getLowestPrice(shops),\n      [ID_21VEK]: getShop(shops, ID_21VEK),\n      [ID_SILA]: getShop(shops, ID_SILA),\n      [ID_5ELEMENT]: getShop(shops, ID_5ELEMENT),\n      [ID_AMD]: getShop(shops, ID_AMD),\n      [ID_IMARKET]: getShop(shops, ID_IMARKET),\n  })\n  \n  export const getProductData = data => ({\n    ...(getParametersList(isTablet(data)).map(getObjectProperty(data)).reduce((acc, item) => ({ ...acc, ...item }) , {})),\n    [KEY_TYPE]: { value: data.name_prefix },\n    [KEY_NAME]: { value: data.full_name },\n    [KEY_SKU]: { value: data.key },\n  })\n  \n  export const getProductPrice = item => item ? `${item.position_price.amount} ${item.position_price.currency}`: '';\n  \n  export const createTable = (product, type) => product.length ? [\n    [\n        ...getParametersList(type === TABLET_TYPE).map(item => getMappingList(type === TABLET_TYPE)[item]),\n        ...SHOPS.map(item => NAMES_MAPPING[item])\n    ],\n    ...product\n  ] : undefined;\n  ","import React, { useState, useRef } from \"react\";\nimport rp from \"request-promise-native\";\nimport Button from '@material-ui/core/Button';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport TextField from '@material-ui/core/TextField';\nimport Container from '@material-ui/core/Container';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Alert from '@material-ui/lab/Alert';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport DenseTable from '../../components/Table'\nimport { downloadXLSX } from \"../../helpers\";\nimport { TABLET_TYPE, LAPTOP_TYPE, SHOPS } from './constants';\nimport {\n    getApiUrl,\n    getShops,\n    getDetailsUrl,\n    getProductData,\n    getParametersList,\n    createTable,\n    isTablet,\n    getProductPrice\n} from './helpers';\n\nconst useStyles = makeStyles({\n  root: {\n    marginTop: 20\n  },\n  alert: {\n    marginTop: 10, \n    marginBottom: 10, \n  },\n});\n\nfunction sleep(ms) {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n\nfunction CircularProgressWithLabel({className, ...props}) {\n  return (\n    <Box position=\"relative\" className={className} display=\"inline-flex\">\n      <CircularProgress variant=\"static\" {...props} />\n      <Box\n        top={0}\n        left={0}\n        bottom={0}\n        right={0}\n        position=\"absolute\"\n        display=\"flex\"\n        alignItems=\"center\"\n        justifyContent=\"center\"\n      >\n        <Typography variant=\"caption\" component=\"div\" color=\"textSecondary\">{`${Math.round(\n          props.value,\n        )}%`}</Typography>\n      </Box>\n    </Box>\n  );\n}\n\nasync function fetchData(numbers, urlFuncion, setProgress, setAlert, cb) {\n  const data = []\n  for (let i = 0; i < numbers.length; i++) {\n    const item = numbers[i];\n    const options = {\n      method: \"GET\",\n      url: urlFuncion(item),\n      json: true,\n    };\n    try {\n      const body = await rp(options);\n      //waiting before sleep function executes using it synchronously\n      await sleep(2000);\n      setProgress(prevProgress => (prevProgress + 1));\n      data.push(body);\n      cb(body, item);\n    } catch (e) {\n      console.log('Failed to fetch data');\n      setAlert(item);\n    }\n  }\n\n  return data;\n}\n\nconst Prices = () => {\n  const [numbers, setNumbers] = useState(\"\");\n  const [isReady, setIsReady] = useState(false);\n  const [inProgress, setInProgress] = useState(false);\n  const [progress, setProgress] = React.useState(0);\n  const [alerts, setAlerts] = React.useState([]);\n  const classes = useStyles();\n  const table = useRef(null);\n  const productItems = useRef({});\n\n  const setAlert = msg => id => {\n    setAlerts(prevAlerts => [...prevAlerts, `${msg} ${id}`]);\n  }\n  const handleTextareaChange = e => {\n    setNumbers(e.target.value);\n  };\n\n  const splittedNumbers = numbers.split(/\\n/).filter(Boolean);\n\n  const handleGetResults = async () => {\n    setAlerts([]);\n    setIsReady(false);\n    setInProgress(true);\n\n    if(splittedNumbers.length >= 1) {\n      await fetchData(splittedNumbers, getApiUrl, setProgress, setAlert('Не получилось загрузить данные по ценам для'), (data, item) => {\n        if (data.positions) {\n          const availableShops = getShops(data.positions.primary);\n\n          productItems.current[item] = { ...productItems.current[item], ...availableShops};\n        }\n      });\n      await fetchData(splittedNumbers, getDetailsUrl, setProgress, setAlert('Не получилось загрузить данные по товару для'), (data, item) => {\n        productItems.current[item] = {\n          ...productItems.current[item],\n          ...getProductData(data)\n        }\n      });\n\n      if (!Object.keys(productItems.current).length) {\n        setIsReady(true);\n        setInProgress(false);\n        setProgress(0);\n        return;\n      }\n\n      const productData = splittedNumbers.map(item => {\n          const product = productItems.current[item];\n\n          if (!product) {\n              return undefined;\n          }\n          \n          return [\n              ...getParametersList(isTablet(product))\n                  .map(item =>product[item] && product[item].value),\n              ...SHOPS.map(shop => getProductPrice(product[shop]))\n          ]\n        }).filter(Boolean).sort(item => item[1] === TABLET_TYPE ? 1 : -1);\n\n      const notebooks = productData.filter(item => item[1] !== TABLET_TYPE);\n      const tablets = productData.filter(item => item[1] === TABLET_TYPE);\n\n\n      table.current = [createTable(notebooks, LAPTOP_TYPE), createTable(tablets, TABLET_TYPE)].filter(Boolean);\n\n      setIsReady(true);\n      setInProgress(false);\n      setProgress(0);\n    }\n  };\n\n  const download = () => downloadXLSX(table.current, 'Анализ цен', 'price-analysis');\n\n  return (\n    <>\n      <Container maxWidth=\"sm\" className={classes.root}>\n        <TextField\n            label=\"SKU продуктов\"\n            multiline\n            fullWidth\n            rows={10}\n            cols={20}\n            variant=\"outlined\"\n            size=\"medium\"\n            onChange={handleTextareaChange}\n            value={numbers}\n          />\n        <ButtonGroup color=\"primary\"  className={classes.root}>\n          <Button onClick={handleGetResults}>Найти</Button>\n          {isReady && table.current && <Button onClick={download}>Скачать XLS</Button>}\n        </ButtonGroup>\n        {\n          Boolean(alerts.length) && alerts.map((item, index) => <Alert className={classes.alert} key={index} severity=\"warning\">{item}</Alert>)\n        }\n        </Container>\n        {inProgress && <CircularProgressWithLabel className={classes.root} value={(progress / (splittedNumbers.length*2)) * 100} />}\n        {isReady && !inProgress && table.current && table.current.map((item, index) => <DenseTable data={item} key={index} />) }\n    </>\n  );\n};\n\nexport default Prices;\n","export let isSuperUser = localStorage.getItem('superUser') === 'true';\n\nexport const enableSuperUser = () => {\n    isSuperUser = true;\n    localStorage.setItem('superUser', true);\n    window.location.reload();\n}\n\nexport const disableSuperUser = () => {\n    isSuperUser = false;\n    localStorage.setItem('superUser', false);\n    window.location.reload();\n}","import React from 'react';\nimport { HashRouter as Router, Switch, Route, NavLink } from \"react-router-dom\";\nimport Button from '@material-ui/core/Button';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Container from '@material-ui/core/Container';\nimport MainPage from './pages/MainPage';\nimport ConcatFiles from './pages/ConcatFiles';\nimport Prices from './pages/Prices';\nimport { isSuperUser, enableSuperUser, disableSuperUser } from './superUser';\nimport './App.css';\n\nconst App = () => {\n  window.enableSuperUser = enableSuperUser;\n  window.disableSuperUser = disableSuperUser;\n\n  return (\n    <div className=\"App\">\n      <CssBaseline />\n      <Router>\n        <Switch>\n          <>\n            {isSuperUser &&\n              <>\n                <ButtonGroup>\n                  <Button component={NavLink} to=\"/\">Получить общий отчет</Button>\n                  <Button component={NavLink} to=\"/concat\">Склеить два отчета</Button>\n                  <Button component={NavLink} to=\"/prices\">Анализ цен</Button>\n                </ButtonGroup>\n              </>\n            }\n            <Container maxWidth={false}>\n              {isSuperUser &&\n                <>\n                  <Route path=\"/\" exact>\n                    <MainPage />\n                  </Route>\n                  <Route path=\"/concat\">\n                    <ConcatFiles /> \n                  </Route>\n                </>\n              }\n              <Route path={isSuperUser ? \"/prices\" : \"/\"}>\n                <Prices /> \n              </Route>\n            </Container>\n          </>\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}